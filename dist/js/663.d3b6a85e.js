"use strict";(self["webpackChunklite"]=self["webpackChunklite"]||[]).push([[663],{8663:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var i=s(1032),a=function(){var t=this,e=t._self._c;return e("lay-header",{attrs:{showBack:!0,tBarColor:"#FFFFFF",txtTitle:t.$t("mypage.center.notice.title"),isGetingItems:t.isGetingItems}},[e(i.A,{staticClass:"pt-2 px-5 pb-6 lay-body",attrs:{column:""}},t._l(t.items,(function(s,i){return e("c-list-item",{key:i,attrs:{value:s.title,date:s.createTime,onClick:()=>{t.pushRouter({name:"noticeDetail",query:{noticeId:s.id}})}}})})),1)],1)},l=[],n=(s(4114),s(1034)),c=s(4746),r=function(){var t=this,e=t._self._c;return e(i.A,{directives:[{def:c.A,name:"ripple",rawName:"v-ripple"}],staticClass:"lay-menu",class:[t.date?"":"align-center"],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),(()=>{t.onClick&&t.onClick()}).apply(null,arguments)}}},[e(i.A,{attrs:{column:""}},[e("span",{staticClass:"txt-title"},[t._v(t._s(t.value))]),t.date?e("span",{staticClass:"txt-date mt-1"},[t._v(t._s(t.date))]):t._e()]),e(n.A),e("img",{staticClass:"img-arr",class:[t.date?"mt-1":""],attrs:{src:s(2001)}})],1)},o=[],u={components:{},props:{value:{default:null},date:{default:null},onClick:{default:()=>{}}},data(){return{}},computed:{},watch:{},created(){},mounted(){},destroyed(){},methods:{}},h=u,d=s(1656),m=(0,d.A)(h,r,o,!1,null,"7885e9f8",null),p=m.exports,g={components:{cListItem:p},data(){return{isGetingItems:!1,items:[],pageNo:1,allCount:0}},computed:{},watch:{},created(){window.addEventListener("scroll",this.handleScroll)},mounted(){this.getItems()},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{async getItems(t=1){this.isGetingItems||(this.isGetingItems=!0,await this.api({url:"/notice/list",method:"post",data:{pageNum:t,pageRow:10}}).then((e=>{this.pageNo=t,1==t&&this.items.splice(0,this.items.length),this.allCount=e.allCount,this.items.push(...e.list),setTimeout((()=>{var t=document.children[0];this.checkNext(t)}),300)})).catch((t=>{this.$router.go(-1),this.showToast(t.msg,!1,!1)})),this.isGetingItems=!1)},handleScroll(t){let e=t.target.children[0];this.checkNext(e)},checkNext(t){this.items.length<this.allCount&&t&&t.scrollHeight-t.clientHeight-80<t.scrollTop&&this.getItems(this.pageNo+1)}}},f=g,v=(0,d.A)(f,a,l,!1,null,"66223886",null),C=v.exports},1034:function(t,e,s){s(158);var i=s(4152);e.A=(0,i.Gn)("spacer","div","v-spacer")},2001:function(t,e,s){t.exports=s.p+"img/ic-arrow-r-b-16.2f8e51a7.svg"}}]);
//# sourceMappingURL=663.d3b6a85e.js.map