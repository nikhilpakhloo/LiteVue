{"version":3,"file":"js/122.6e051453.js","mappings":"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","sources":["webpack://lite/./src/views/gallery/list.vue","webpack://lite/./src/bridge/gallery/info.js","webpack://lite/src/views/gallery/list.vue","webpack://lite/./src/views/gallery/list.vue?b158","webpack://lite/./src/views/gallery/list.vue?7fdc","webpack://lite/./src/bridge/media/list.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('lay-header',{attrs:{\"showBack\":!_vm.isEditMode,\"showX\":_vm.isEditMode,\"tBarColor\":\"#FFFFFF\",\"txtRight\":_vm.isEditMode\n      ? _vm.items.length == _vm.selectItems.length\n        ? _vm.$t('common.select-none')\n        : _vm.$t('common.select-all')\n      : _vm.$t('common.select'),\"onBack\":() => {\n      if (_vm.isEditMode) {\n        _vm.isEditMode = false;\n      } else {\n        _vm.$router.go(-1);\n      }\n    },\"onRight\":_vm.onClickActionEdit,\"isGetingItems\":_vm.isGetingItems}},[(_vm.gallInfo)?_c('v-layout',{staticClass:\"pt-5 lay-body\",attrs:{\"column\":\"\"}},[_c('v-layout',{staticClass:\"lay-date px-5\",attrs:{\"align-center\":\"\"}},[_c('span',{staticClass:\"txt-num\"},[_vm._v(\"#\"+_vm._s(_vm.gallInfo.logId))]),_c('span',{staticClass:\"txt-date\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"common.yyyyMM\", { year: _vm.gallInfo.startDate.substring(0, 4), month: _vm.gallInfo.startDate.substring(4, 6), }))+\" \")]),(_vm.gallInfo.majorLocation)?_c('v-layout',[_c('img',{staticClass:\"ml-2\",attrs:{\"src\":require(\"@/assets/images/ic-location-g.svg\")}}),_c('span',{staticClass:\"txt-loc\"},[_vm._v(_vm._s(_vm.$i18n.locale == \"en\" ? _vm.gallInfo.majorLocationEn : _vm.gallInfo.majorLocation))])]):_vm._e()],1),_c('v-layout',{staticClass:\"flex-grow-0 pb-5 pt-3\",attrs:{\"wrap\":\"\",\"row\":\"\"}},_vm._l((_vm.items),function(item,index){return _c('c-pic',{key:index,attrs:{\"editMode\":_vm.isEditMode,\"src\":(item.fileType == 'VIDEO' ? item.thumbName : item.fileName) +\n          `?${_vm.filterVer}`,\"isVideo\":item.fileType == 'VIDEO',\"duration\":item.videoTime,\"select\":_vm.selectItems.indexOf(item) > -1\n            ? _vm.selectItems.indexOf(item) + 1\n            : null,\"isLike\":item.likeYn == 'Y',\"isFilter\":item.filterd == '1',\"isMemo\":item.memo.title || item.memo.memo,\"onClick\":() => _vm.onClickActionSelect(item),\"mediaId\":item.mediaId}})}),1),_c('transition',{attrs:{\"name\":\"slide-y-reverse-transition\"}},[(_vm.isEditMode)?_c('c-footer',{attrs:{\"height\":\"80\",\"elevation\":\"0\"}},[_c('v-layout',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"lay-footer-menu\",class:[_vm.selectItems.length ? 'select' : ''],attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onClickActionSave.apply(null, arguments)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/ic-menu-down.svg\")}}),_c('span',[_vm._v(_vm._s(_vm.$t(\"common.save\")))])]),_c('v-layout',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"lay-footer-menu\",class:[_vm.selectItems.length ? 'select' : ''],attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onClickActionFilter.apply(null, arguments)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/ic-menu-filter.svg\")}}),_c('span',[_vm._v(_vm._s(_vm.$t(\"common.filter\")))])]),_c('v-layout',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"lay-footer-menu\",class:[_vm.selectItems.length ? 'select' : ''],attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onClickActionDel.apply(null, arguments)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/ic-menu-del.svg\")}}),_c('span',[_vm._v(_vm._s(_vm.$t(\"common.delete\")))])])],1):_vm._e()],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import uuid from \"uuid\";\nimport nativeBridge from \"@/plugins/nativeBridge\";\n\nconst bridge = {\n    request: async (seq) => {\n        let retData = {\n            isSuccess: false,\n            errorMsg: '',\n            data: null,\n        };\n        let query = `   \n            SELECT \n                *\n            FROM \n                TB_LOG \n            WHERE\n                logId = ${seq}\n        `\n        return new Promise((resolve, reject) => {\n            const callbackUUID = `API_GETINFO_CALLBACK_${uuid().replace(/-/gi, \"\")}`;\n            nativeBridge.sqlite(JSON.stringify({ cmd: \"selectQuery\", query: query }), callbackUUID)\n            window[`${callbackUUID}`] = (value) => {\n                try {\n                    if (value) {\n                        const ret = JSON.parse(value);\n                        retData.isSuccess = ret.result\n                        retData.errorMsg = ret.error\n                        retData.data = ret.data && ret.data.length > 0 ? ret.data[0] : null\n                        resolve(retData);\n                    } else {\n                        reject();\n                    }\n                } catch (error) {\n                    reject(error);\n                }\n                delete window[`${callbackUUID}`];\n            };\n        });\n    }\n}\nexport default bridge","<template>\n  <lay-header\n    :showBack=\"!isEditMode\"\n    :showX=\"isEditMode\"\n    tBarColor=\"#FFFFFF\"\n    :txtRight=\"\n      isEditMode\n        ? items.length == selectItems.length\n          ? $t('common.select-none')\n          : $t('common.select-all')\n        : $t('common.select')\n    \"\n    :onBack=\"\n      () => {\n        if (isEditMode) {\n          isEditMode = false;\n        } else {\n          $router.go(-1);\n        }\n      }\n    \"\n    :onRight=\"onClickActionEdit\"\n    :isGetingItems=\"isGetingItems\"\n  >\n    <v-layout column class=\"pt-5 lay-body\" v-if=\"gallInfo\">\n      <v-layout class=\"lay-date px-5\" align-center>\n        <span class=\"txt-num\">#{{ gallInfo.logId }}</span>\n        <span class=\"txt-date\">\n          {{\n            $t(\"common.yyyyMM\", {\n              year: gallInfo.startDate.substring(0, 4),\n              month: gallInfo.startDate.substring(4, 6),\n            })\n          }}\n        </span>\n        <v-layout v-if=\"gallInfo.majorLocation\">\n          <img class=\"ml-2\" src=\"@/assets/images/ic-location-g.svg\" />\n          <span class=\"txt-loc\">{{\n            $i18n.locale == \"en\"\n              ? gallInfo.majorLocationEn\n              : gallInfo.majorLocation\n          }}</span>\n        </v-layout>\n      </v-layout>\n\n      <v-layout wrap row class=\"flex-grow-0 pb-5 pt-3\">\n        <c-pic\n          v-for=\"(item, index) in items\"\n          :editMode=\"isEditMode\"\n          :key=\"index\"\n          :src=\"\n            (item.fileType == 'VIDEO' ? item.thumbName : item.fileName) +\n            `?${filterVer}`\n          \"\n          :isVideo=\"item.fileType == 'VIDEO'\"\n          :duration=\"item.videoTime\"\n          :select=\"\n            selectItems.indexOf(item) > -1\n              ? selectItems.indexOf(item) + 1\n              : null\n          \"\n          :isLike=\"item.likeYn == 'Y'\"\n          :isFilter=\"item.filterd == '1'\"\n          :isMemo=\"item.memo.title || item.memo.memo\"\n          :onClick=\"() => onClickActionSelect(item)\"\n          :mediaId=\"item.mediaId\"\n        />\n      </v-layout>\n      <transition name=\"slide-y-reverse-transition\">\n        <c-footer v-if=\"isEditMode\" height=\"80\" elevation=\"0\">\n          <v-layout\n            v-ripple\n            column\n            align-center\n            justify-center\n            class=\"lay-footer-menu\"\n            :class=\"[selectItems.length ? 'select' : '']\"\n            @click.prevent.stop=\"onClickActionSave\"\n          >\n            <img src=\"@/assets/images/ic-menu-down.svg\" />\n            <span>{{ $t(\"common.save\") }}</span>\n          </v-layout>\n          <v-layout\n            v-ripple\n            column\n            align-center\n            justify-center\n            class=\"lay-footer-menu\"\n            :class=\"[selectItems.length ? 'select' : '']\"\n            @click.prevent.stop=\"onClickActionFilter\"\n          >\n            <img src=\"@/assets/images/ic-menu-filter.svg\" />\n            <span>{{ $t(\"common.filter\") }}</span>\n          </v-layout>\n          <v-layout\n            v-ripple\n            column\n            align-center\n            justify-center\n            class=\"lay-footer-menu\"\n            :class=\"[selectItems.length ? 'select' : '']\"\n            @click.prevent.stop=\"onClickActionDel\"\n          >\n            <img src=\"@/assets/images/ic-menu-del.svg\" />\n            <span>{{ $t(\"common.delete\") }}</span>\n          </v-layout>\n        </c-footer>\n      </transition>\n    </v-layout>\n  </lay-header>\n</template>\n\n<script>\nimport cFooter from \"@/components/cFooter.vue\";\nimport CPic from \"@/components/cPic.vue\";\nimport MEDIA_LIST from \"@/bridge/media/list\";\nimport GALLERY_INFO from \"@/bridge/gallery/info\";\nimport router from \"@/router\";\nexport default {\n  components: { cFooter, CPic },\n  props: [\"seq\"],\n  data() {\n    return {\n      isGetingItems: false,\n      isEditMode: false,\n      selectItems: [],\n      items: [],\n      pageNo: 1,\n      allCount: 0,\n      gallInfo: null,\n    };\n  },\n  computed: {},\n  watch: {\n    isEditMode() {\n      this.selectItems.splice(0, this.selectItems.length);\n    },\n  },\n  created() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  mounted() {\n    this.getData();\n  },\n  destroyed() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    async getData() {\n      if (this.isGetingItems) {\n        return;\n      }\n      this.isGetingItems = true;\n      let res = await GALLERY_INFO.request(this.seq);\n      this.isGetingItems = false;\n      if (res.isSuccess) {\n        this.gallInfo = res.data;\n        this.getItems();\n      } else {\n        this.showToast(this.$t(\"error.error\"), false, false);\n      }\n    },\n    async getItems(page = 1) {\n      if (this.isGetingItems) {\n        return;\n      }\n      this.isGetingItems = true;\n      var eq = [];\n      if (this.seq) {\n        eq.push({ key: \"logId\", val: this.seq });\n      }\n      await MEDIA_LIST.request(page, 20, eq)\n        .then((data) => {\n          this.pageNo = page;\n          if (page == 1) {\n            this.items.splice(0, this.items.length);\n          }\n          this.allCount = data.allCount;\n          this.items.push(...data.list);\n          this.isGetingItems = false;\n          this.items.forEach((element) => {\n            try {\n              this.$set(\n                element,\n                \"memo\",\n                JSON.parse(element.memo.replace(/\\n/g, \"\\\\n\"))\n              );\n            } catch (error) {}\n          });\n\n          setTimeout(() => {\n            var target = document.children[0];\n            this.checkNext(target);\n          }, 300);\n        })\n        .catch(() => {\n          this.isGetingItems = false;\n        });\n    },\n    handleScroll(event) {\n      let target = event.target.children[0];\n      this.checkNext(target);\n    },\n    checkNext(target) {\n      if (\n        this.items.length < this.allCount &&\n        target &&\n        target.scrollHeight - target.clientHeight - 80 < target.scrollTop\n      ) {\n        this.getItems(this.pageNo + 1);\n      }\n    },\n    checkSelect() {\n      if (!this.selectItems.length) {\n        return false;\n      }\n      return true;\n    },\n    onClickActionEdit() {\n      if (!this.isEditMode) {\n        this.isEditMode = true;\n      } else {\n        if (this.items.length == this.selectItems.length) {\n          this.selectItems.splice(0, this.selectItems.length);\n        } else {\n          this.items.forEach((element) => {\n            if (this.selectItems.indexOf(element) < 0) {\n              this.selectItems.push(element);\n            }\n          });\n        }\n      }\n    },\n    onClickActionSelect(item) {\n      if (this.isEditMode) {\n        if (this.selectItems.indexOf(item) > -1) {\n          this.selectItems.splice(this.selectItems.indexOf(item), 1);\n        } else {\n          this.selectItems.push(item);\n        }\n      } else {\n        this.pushRouter({\n          name: \"media\",\n          params: { seq: item.mediaId, logId: item.logId },\n        });\n      }\n    },\n    onClickActionSave() {\n      if (this.checkSelect()) {\n        if (this.isGetingItems) {\n          return;\n        }\n        this.isGetingItems = true;\n        window.onSaveComplete = () => {\n          this.isEditMode = false;\n          this.isGetingItems = false;\n          if (res == \"success\") {\n            this.showToast(this.$t(\"error.save-comp\"));\n          } else {\n            this.showToast(this.$t(\"error.error\"), false, false);\n          }\n          delete window.onSaveComplete;\n        };\n        this.nativeBridge.fileDownload(this.selectItems, \"onSaveComplete\");\n      }\n    },\n    onClickActionFilter() {\n      if (this.selectItems.length > this.FILTER_MAX_SIZE) {\n        this.showToast(\n          this.$t(\"error.filter-cnt-error\", { count: this.FILTER_MAX_SIZE }),\n          false,\n          false\n        );\n        return false;\n      }\n      if (this.checkSelect()) {\n        window.onFilterComplete = (res) => {\n          if (res) {\n            this.showToast(this.$t(\"error.filter-comp\"), false, false);\n            this.$store.commit(\"filterVer\", this.filterVer + 1);\n            this.getItems();\n          }\n          this.isEditMode = false;\n          delete window.onFilterComplete;\n        };\n        this.nativeBridge.showFilterView(this.selectItems, \"onFilterComplete\");\n      }\n    },\n    onClickActionDel() {\n      if (this.checkSelect()) {\n        this.showPopup({\n          title: this.$t(\"gallery.edit.select\", {\n            count: this.selectItems.length,\n          }),\n          msg: this.$t(\"gallery.edit.delect-desc\"),\n          okTxt: this.$t(\"common.delete\"),\n          cancelTxt: this.$t(\"common.cancel\"),\n          okAction: () => {\n            window.onDeleteComplete = () => {\n              this.isEditMode = false;\n              this.getItems();\n              // this.showToast(this.$t(\"error.del-comp\"), false, false);\n\n              delete window.onDeleteComplete;\n            };\n\n            this.nativeBridge.fileDelete(this.selectItems, \"onDeleteComplete\");\n          },\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/sass/app.scss\";\n.lay-body {\n  .lay-date {\n    flex: none;\n    .txt-num {\n      font-family: \"PP Pangram Sans\";\n      font-style: normal;\n      font-weight: 400;\n      font-size: pxToRem(18px);\n      line-height: pxToRem(28px);\n      color: #64dee4;\n    }\n    .txt-date {\n      font-family: \"PP Pangram Sans\";\n      font-style: normal;\n      font-weight: 400;\n      font-size: pxToRem(18px);\n      line-height: pxToRem(28px);\n      color: #000000;\n      margin-left: 6px;\n    }\n    .txt-loc {\n      font-style: normal;\n      font-weight: 400;\n      font-size: pxToRem(13px);\n      line-height: pxToRem(18px);\n      letter-spacing: -0.01em;\n      color: #868e96;\n    }\n  }\n  .lay-footer-menu {\n    flex: none;\n    width: pxToRem(98px);\n    max-width: 33%;\n    height: 100%;\n    opacity: 0.3;\n    &.select {\n      opacity: 1;\n    }\n    img {\n      width: pxToRem(24px);\n      height: pxToRem(24px);\n    }\n    span {\n      margin-top: pxToRem(8px);\n      font-style: normal;\n      font-weight: 400;\n      font-size: pxToRem(9px);\n      line-height: pxToRem(10px);\n      text-align: center;\n      color: #000;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=3e72717b&scoped=true\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=3e72717b&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e72717b\",\n  null\n  \n)\n\nexport default component.exports","import uuid from \"uuid\";\nimport nativeBridge from \"@/plugins/nativeBridge\";\nimport allCount from \"../count\";\n\nconst bridge = {\n    request: async (pageNo = 1, pageSize = 20, equals, excColId) => {\n        let retData = {\n            isSuccess: false,\n            errorMsg: '',\n            list: null,\n            allCount: 0\n        };\n        let cq = `\n            SELECT \n                COUNT(*) AS cnt \n            FROM \n                TB_MEDIA \n            WHERE \n                deleted = 0\n        `\n        let query = `\n            SELECT \n               *\n            FROM \n               (\n                    SELECT \n                        m.*,\n                        CASE WHEN(COUNT(cm.collectionMediaId) > 0) THEN 'Y' ELSE 'N' END as likeYn\n                    FROM \n                        TB_MEDIA m\n                    LEFT JOIN\n                        TB_COLLECTION_MEDIA cm\n                    ON\n                        m.mediaId = cm.mediaId \n                        AND cm.collectionId = 1 \n                        AND cm.deleted = 0\n                    GROUP BY\n                        m.mediaId\n                )\n            WHERE \n                deleted = 0\n        `\n\n        if (equals && equals.length) {\n            equals.forEach(element => {\n                query += ` AND ${element.key} = '${element.val}' `\n                cq += ` AND ${element.key} = '${element.val}' `\n            });\n        }\n\n        if (excColId) {\n            let eq = `\n                AND mediaId NOT IN (\n                    SELECT \n                        mediaId\n                    FROM\n                        TB_COLLECTION_MEDIA\n                    WHERE \n                        deleted = 0\n                    AND \n                        collectionId = ${excColId}\n                )\n            `\n            query += eq;\n            cq += eq;\n        }\n        query += `   \n            ORDER BY \n                createDate DESC\n            LIMIT ${pageSize} OFFSET ${pageSize * (pageNo - 1)}\n        `\n        try {\n            retData.allCount = await allCount.request(cq, \"cnt\")\n        } catch (error) {\n            return Promise.reject(error)\n        }\n        return new Promise((resolve, reject) => {\n            const callbackUUID = `API_GETLIST_CALLBACK_${uuid().replace(/-/gi, \"\")}`;\n            nativeBridge.sqlite(JSON.stringify({ cmd: \"selectQuery\", query: query }), callbackUUID)\n            window[`${callbackUUID}`] = (value) => {\n                try {\n                    if (value) {\n                        const ret = JSON.parse(value);\n                        retData.isSuccess = ret.result\n                        retData.errorMsg = ret.error\n                        retData.list = ret.data\n                        resolve(retData);\n                    } else {\n                        reject();\n                    }\n                } catch (error) {\n                    reject(error);\n                }\n                delete window[`${callbackUUID}`];\n            };\n        });\n    }\n}\nexport default bridge"],"names":["attrs","_vm","isEditMode","$router","onClickActionEdit","gallInfo","_c","staticClass","year","startDate","substring","month","majorLocation","require","item","selectItems","indexOf","likeYn","filterd","memo","onClickActionSelect","mediaId","directives","rawName","class","preventDefault","name","on","stopPropagation","onClickActionDel","staticRenderFns","render","bridge","request","async","retData","isSuccess","errorMsg","data","query","seq","Promise","resolve","reject","callbackUUID","uuid","replace","nativeBridge","sqlite","JSON","stringify","cmd","window","value","ret","parse","result","error","length","components","cFooter","CPic","props","isGetingItems","items","pageNo","allCount","computed","watch","splice","created","addEventListener","handleScroll","mounted","getData","destroyed","removeEventListener","methods","res","GALLERY_INFO","getItems","showToast","$t","page","eq","push","key","val","MEDIA_LIST","then","list","forEach","element","$set","setTimeout","target","document","children","checkNext","catch","event","scrollHeight","clientHeight","scrollTop","checkSelect","pushRouter","params","logId","onClickActionSave","onSaveComplete","fileDownload","onClickActionFilter","FILTER_MAX_SIZE","count","onFilterComplete","$store","commit","filterVer","showFilterView","showPopup","title","msg","okTxt","cancelTxt","okAction","onDeleteComplete","fileDelete","component","pageSize","equals","excColId","cq"],"sourceRoot":""}